# Исследование рынка недвижимости
Проект выполнялся с целью установления параметров, влияющих на рыночную стоимость объектов недвижимости. Это позволит построить автоматизированную систему: она отследит аномалии и мошенническую деятельность.
Входные данные - данные сервиса Яндекс.Недвижимость — архив объявлений о продаже квартир в Санкт-Петербурге и соседних населённых пунктов за несколько лет. 
Предварительная оценка данных показала, что распределения значений по факторам не соответствует нормальному (имеются выбросы), в данных имеются пропуски, тип данных требует корректировки. 
<p>Пропущенные значения были устранены следующим образом:. <p>"ceiling_height" - сравнили 2 варианта заполнения и выбрали оптимальный: заполнили медианным значением по столбцу  <p>"floors_total" - исключили из исследования <p>"living_area" - заполнили пропуски медианным значением, в зависимости от количество комнат <p>"is_apartment" - значением False<p>"kitchen_area" - проверили 2 теории: заполнили медианным значением относительно общей площади <p>"balcony" – заполнили значением 0 <p>"locality_name" - на значение 'неизвестно'<p>"airports_nearest" - заполнили максимальным значением <p>"city_сenters_nearest" - заполнили максимальным значением <p>"parks_around_3000" - заполнили значением 0 <p>"parks_nearest" – максимальным значением<p>"ponds_around_3000" - значением 0 <p>"ponds_nearest"- заполнили максимальным значением <p>"days_exposition" - оставили пропуски.
<p>Природа пропусков различна: часть из них, скорее всего не была указана пользователем, а часть, мы предполагаем, имеют технический характер.
<p>Столбцы 'last_price', 'floors_total', 'balcony', 'parks_around_3000', 'ponds_around_3000', 'days_exposition' были приведены в целочисленный тип данных, столбец 'is_apartment' – в булевый, столбец 'first_day_exposition' – к типу даты. В столбцах: общая площадь, высота потолков, жилая площадь и площадь кухни тип данных был изменен на float32 для экономии памяти.
Были выявлены и устранены неявные дубликаты : 'посёлок' и 'поселок', 'городской поселок' и 'поселок городского типа', 'садоводческое некоммерческое товарищество' и 'садовое товарищество', 'деревня Кудрово' и 'Кудрово', 'посeлок Мурино' и 'Мурино'.
<p>Аномальные значения в столбце 'ceiling_height' (более 20 м) были разделены на 10 (считаем, что это опечатка при вводе), для соответствия более реальным данным.
<p>По столбцу 'days_exposition' значения больше 550 были отброшены.
<p>Создали новые столбцы со слишком дорогой и слишком дешевой недвижимостью, со слишком большой и слишком малой жилой площадью недвижимостью, со слишком большой и слишком малой общей площадью недвижимостью, со слишком высокими и слишком низкими потолками, со слишком большим и слишком малым числом комнат, со слишком большой и слишком малой площадью кухни, со слишком далеким и слишком близким расположением от аэропорта, со слишком далеким и слишком близким расположением от центра, со слишком далеким и слишком близким расположением от парка, со слишком далеким и слишком близким расположением от водоема.
<p>Добавили столбцы дня недели, месяца и года.
<p>Добавили столбец с типом этажа: с типом этажа: "первый", "последний", "другой".
<p>Добавили столбец с расстоянием в км до центра города.
<p>Исследование общей площади недвижимости показало, что распределение значений не соответствует нормальному. Присутствует существенный перевес площадей в районе 30 кв.м. и от 41 до 45 кв.м., начиная с 60 кв.м начинается спад значений.
Наибольшее значение объявлений с жилой площадью от 18 до 20 кв.м, недвижимости с площадью 23-25 значительно ниже, чем в соседних диапазонах, второй пик объявлений приходится на 30 кв.м. +-3кв.м.Недвижимости с жилой площадью более 55 кв.м очень мало.
<p>Максимальное количество объявлений с площадью кухонь около 6 и 10 кв.м. Большинство недвижимости находится в диапазоне от 3 до 5 млн.руб. Среди предложений недвижимости, больше всего с 1 и 2 комнатами, с 3 комнатами чуть меньше.Основная масса недвижимости имеет значение высоты потолка 2,65м, на втором месте 2,5м. Больше всего предложений недвижимости на 1 и 2 этажах, более 5 этажа, предложений значительно меньше. Недвижимости, расположенной на первом и последнем этажах меньше, чем на других. 
Большая часть недвижимости, выставленная на продажу, расположена в домах не выше 5 этажей, на втором месте - 9-этажные строения. Основное количество предложений, с указанным расстоянием до центра, расположено в пределах 20км от центра. 
Основное количество предложений располагаются в диапазоне от 10 до 45 км. от аэропорта. Большая часть недвижимости, в параметрах которой указано расстояние до ближайшего парка, имеет парк в районе 500 м: 5131 - один парк, 1543 - 2 парка и всего 559 - 3 парка.Меньше всего объявлений, выставленных в субботу и воскресенье, больше всего объявлений, было выставлено в четверг, чуть меньше во вторник и пятницу. Больше всего предложений по времени размещения в феврале и марте, меньше всего в январе и мае. Больше всего объявлений было в 2017 и 2018 гг. Квартиры чаще всего снимались с объявления (предположим, что продавались) в первый и второй месяц публикации, начиная с 3 месяца наблюдается существенное снижение. Среднее время продажи 133 дня, медианное 86. Продажи до 2 месяцев можно считать быстрыми продажами. Продажи свыше 550 дней - очень долгими.
<p>После удаления пропущенных значений и обработки данных осталось 15536 строк, что составляет 65,55%
<p>Анализ показал, что средняя цена снятия объявления 4,5 млн., средняя общя площадь 51 кв.м.(медианное значение - 47 кв.м.), жилая площадь - 29 кв.м.(28 кв.м. - медианное значение), площадь кухни - 9 кв.м., количество комнат - 2-х комнатные, среднее время размещения - 133 дня, среднее расстояние от центра 29 км (медианное - 16 км).
<p>Наиболее сильная зависимость имеется между ценой недвижимости и общей площадью (0.661460), чуть меньше - обратная зависимость между расстоянием до центра (-0.539832). Так же оказывают сильное влияние по отдельности жилая площадь и площадь кухни. Значимый коэффициент корреляции Пирсона между ценой и площадью кухни говорит о том, что недвижимость с большей площадью имеют большую стоимость. Высота потолков и количество дней объявления практически не оказывают никакого влияния на цену. При этом, надо отметить, что существует зависимость между площадью кухни и высотой потолков, что говорит о том, что объекты недвижимости имеют стандартную планировку. Количество комнат с жилой и общей площадью имеют прямую корреляцию, что подтверждает вывод про стандартную планировку объектов.
<p>Стоимость недвижимости зависит от типа этажа. Так, средняя стоимость 1 кв.м. на первом этаже составляет 76132 руб, на последнем, 80342 руб, на других этажах - 94461 руб.Существенного влияния на стоимость 1 кв.м. недвижимости количество балконов практически не влияет, цена немного выше при 3 и 4 балконах. Квадратный метр студии, аппартаметов и недвижимости со свободной планировкой в среднем дороже, чем у других видов недвижимости. Оценка влияния факторов расстояния дот центра, парков, водоемов и аэропорта по исходным данным показало незначительное влияние расстояния до центра, влияние остальных факторов отсутствует.  
<p>Среди 10 населенных пунктов с большим количеством объявлений самый дорогой квадратный метр в г.Санкт-Петербурге (104381) и г.Пушкин (99166.), на третьем месте - г. Кудрово (95516), самый дешевый квадратный метр в г.Выборге, г. Всеволожск и г.Гатчина (57641, 66805, 68404 соответственно).
<p>Исследование, как стоимость объектов зависит от расстояния до центра города по г. Санкт-Петербург показало, что стоимость недвижимости чем ближе к центру, тем выше, так, в районе 5 км от центра - средняя стоимость недвижимости составляет 7 млн. рублей, от 5 км до 10 км - 5,65 млн. рублей, от 10 км до 15 км - 5,21 млн. рублей, от 15 км до 20 км - 4,87 млн., от 20 км до 25 км - 4,81 млн., от 25 до 30 км - 4,23 млн., в самом центре предложений очень мало - всего 574, наибольшее количество предложений сосредоточено в группе с расстоянием от 10 до 15 км. В самом центре стоимость 1 кв.м. недвижимости составляет 119350 руб, от 5 до 11 км - 112375 руб, от 10 до 15 - 104157 рублей.
<p>Таким образом, больше всего на цену недвижимости влияет общая и жилая площади, количество комнат, площадь кухни (но они имеют зависимость с общей и жилой площадью), чуть меньше: количество балконов, тип этажа, вид недвижимости:апартаменты, студия, свободная или нет планировка, локация, удаленность от центра. 

Рекомендации по сбору данных - определить причину пропусков по столбцам с расстояниями (скорее всего они расставляются автоматически, исходя из геопозиции, а не пользователем), добавить данные по типу недвижимости - старый или новый жилой фонд (год постройки), с ремонтом или без него, квартира или частный дом (так как, например, есть двухэтажные многоквартирные дома, а также трехэтажные и более частные дома).